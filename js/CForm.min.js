function CForm(t){var e,i,a,n,o,r,_,s,l,d,h,A,S,g,E,x,p=t;this._init=function(){ORIENTATION="portrait",i=createBitmap(s_oSpriteLibrary.getSprite("bg_menu")),s_oStage.addChild(i);var t=s_oSpriteLibrary.getSprite("but_lang");_pStartPosLang={x:CANVAS_WIDTH-t.height/2-10,y:t.height/2+30},(o=new CGfxButton(_pStartPosLang.x,_pStartPosLang.y,t,s_oStage)).addEventListener(ON_MOUSE_UP,this._onLanguageChange,this);t=s_oSpriteLibrary.getSprite("snickers_logo");_pStartPosSnickers={x:t.height/2+10,y:t.height/2},(a=createBitmap(t)).x=_pStartPosSnickers.x,a.y=_pStartPosSnickers.y,s_oStage.addChild(a);t=s_oSpriteLibrary.getSprite("extra_logo");_pStartPosExtra={x:_pStartPosSnickers.x+t.width/2+120,y:_pStartPosSnickers.y},(n=createBitmap(t)).x=_pStartPosExtra.x,n.y=_pStartPosExtra.y,s_oStage.addChild(n);t=s_oSpriteLibrary.getSprite("form_panel_"+LANGUAGES[CURRENT_LANGUAGE]);(r=createBitmap(t)).x=CANVAS_WIDTH/2-1.3*t.width/2,r.y=CANVAS_HEIGHT/2-1.3*t.height/2+70,r.scaleX=r.scaleY=1.3,s_oStage.addChild(r),(_=new createjs.Text(FORM_NAME[CURRENT_LANGUAGE],"bold 30px "+PRIMARY_FONT,"#fff")).x=r.x+80,_.y=r.y+280,_.textAlign="left",_.textBaseline="alphabetic",_.lineWidth=200,s_oStage.addChild(_),s=new CInputField(r.x+70,r.y+300,1.3*t.width-200,70,"required","John Doe"),(l=new createjs.Text(FORM_MOBILE[CURRENT_LANGUAGE],"bold 30px "+PRIMARY_FONT,"#fff")).x=r.x+80,l.y=r.y+480,l.textAlign="left",l.textBaseline="alphabetic",l.lineWidth=200,s_oStage.addChild(l),d=new CInputField(r.x+70,r.y+500,1.3*t.width-200,70,"required","+123456789"),(h=new createjs.Text(FORM_AGE[CURRENT_LANGUAGE],"bold 30px "+PRIMARY_FONT,"#fff")).x=r.x+80,h.y=r.y+680,h.textAlign="left",h.textBaseline="alphabetic",h.lineWidth=200,s_oStage.addChild(h),A=new CInputField(r.x+70,r.y+700,1.3*t.width-200,70,"required","18"),(S=new createjs.Text(FORM_EMAIL[CURRENT_LANGUAGE],"bold 30px "+PRIMARY_FONT,"#fff")).x=r.x+80,S.y=r.y+880,S.textAlign="left",S.textBaseline="alphabetic",S.lineWidth=200,s_oStage.addChild(S),g=new CInputField(r.x+70,r.y+900,1.3*t.width-200,70,"email","John.Doe@example.com"),(E=new createjs.Text(FORM_REGION[CURRENT_LANGUAGE],"bold 30px "+PRIMARY_FONT,"#fff")).x=r.x+80,E.y=r.y+1080,E.textAlign="left",E.textBaseline="alphabetic",E.lineWidth=200,s_oStage.addChild(E);x=new CSelectField(r.x+70,r.y+1100,1.3*t.width-130,120,["Europe","North America","South America"],"Europe"),(e=new CGfxButton(CANVAS_WIDTH/2,r.y+1.3*t.height-150,s_oSpriteLibrary.getSprite("but_submit_"+LANGUAGES[CURRENT_LANGUAGE]),s_oStage)).changeScale(1.2),e.addEventListener(ON_MOUSE_UP,this._onSubmit,this),this.refreshButtonPos(s_iOffsetX,s_iOffsetY)},this._onLanguageChange=function(){0===CURRENT_LANGUAGE?CURRENT_LANGUAGE=1:CURRENT_LANGUAGE=0,console.log(LANGUAGES[CURRENT_LANGUAGE]),this._changeFormLanguage()},this._changeFormLanguage=function(){r.image=s_oSpriteLibrary.getSprite("form_panel_"+LANGUAGES[CURRENT_LANGUAGE]),_.text=FORM_NAME[CURRENT_LANGUAGE],l.text=FORM_MOBILE[CURRENT_LANGUAGE],h.text=FORM_AGE[CURRENT_LANGUAGE],S.text=FORM_EMAIL[CURRENT_LANGUAGE],E.text=FORM_REGION[CURRENT_LANGUAGE],e._changeSprite(s_oSpriteLibrary.getSprite("but_submit_"+LANGUAGES[CURRENT_LANGUAGE]))},this._onSubmit=function(){var t=!0;if(s._validate()||(t=!1),d._validate()||(t=!1),g._validate()||(t=!1),t){const t={name:s._getValue(),mobile:d._getValue(),email:g._getValue(),region:x._getValue(),age:A._getValue(),score:p};console.log(t),fetch("http://45.142.215.48:8001/api/scores/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((t=>t.json())).then((t=>{console.log("Success:",t)})).catch((t=>{console.error("Error:",t)}))}},this.unload=function(){e.unload(),s_oStage.removeChild(undefined),document.body.removeChild(undefined),createjs.Ticker.removeEventListener("tick",this._handleTick),o.unload(),g.unload(),d.unload(),s.unload(),x.unload(),A.unload(),_=null,h=null,l=null,S=null,E=null,i=null,a=null,n=null,s_oForm=null},this.refreshButtonPos=function(t,e){o.setPosition(_pStartPosLang.x-t,e+_pStartPosLang.y),a.x=_pStartPosSnickers.x+t,a.y=_pStartPosSnickers.y+e,n.x=_pStartPosExtra.x+t,n.y=_pStartPosExtra.y+e},s_oForm=this,this._init()}var s_oForm=null;