function CForm(t){var e,a,i,n,_,o,r,l,s,A,E,d,R,S,h,N,x,p,g=t;this._init=function(){ORIENTATION="portrait",a=createBitmap(s_oSpriteLibrary.getSprite("bg_menu")),s_oStage.addChild(a);var t=s_oSpriteLibrary.getSprite("but_lang");_pStartPosLang={x:CANVAS_WIDTH-t.height/2-10,y:t.height/2+30},(_=new CGfxButton(_pStartPosLang.x,_pStartPosLang.y,t,s_oStage)).addEventListener(ON_MOUSE_UP,this._onLanguageChange,this);t=s_oSpriteLibrary.getSprite("top_orientation");_pStartPosSnickers={x:10,y:25},(i=createBitmap(t)).x=_pStartPosSnickers.x,i.y=_pStartPosSnickers.y,s_oStage.addChild(i);t=s_oSpriteLibrary.getSprite("extra_logo");_pStartPosExtra={x:_pStartPosSnickers.x+t.width/2+120,y:_pStartPosSnickers.y},(n=createBitmap(t)).x=_pStartPosExtra.x,n.y=_pStartPosExtra.y;t=s_oSpriteLibrary.getSprite("form_panel_"+LANGUAGES[CURRENT_LANGUAGE]);(o=createBitmap(t)).x=CANVAS_WIDTH/2-1.3*t.width/2,o.y=CANVAS_HEIGHT/2-1.3*t.height/2+70,o.scaleX=o.scaleY=1.3,s_oStage.addChild(o),(r=new createjs.Text(FORM_NAME[CURRENT_LANGUAGE],"bold 30px "+PRIMARY_FONT,"#fff")).x=o.x+80,r.y=o.y+240,r.textAlign="left",r.textBaseline="alphabetic",r.lineWidth=200,s_oStage.addChild(r),l=new CInputField(o.x+70,o.y+260,1.3*t.width-200,70,"required","John Doe"),(s=new createjs.Text(FORM_MOBILE[CURRENT_LANGUAGE],"bold 30px "+PRIMARY_FONT,"#fff")).x=o.x+80,s.y=o.y+400,s.textAlign="left",s.textBaseline="alphabetic",s.lineWidth=200,s_oStage.addChild(s),A=new CInputField(o.x+70,o.y+420,1.3*t.width-200,70,"required","+123456789"),(E=new createjs.Text(FORM_AGE[CURRENT_LANGUAGE],"bold 30px "+PRIMARY_FONT,"#fff")).x=o.x+80,E.y=o.y+560,E.textAlign="left",E.textBaseline="alphabetic",E.lineWidth=200,s_oStage.addChild(E),d=new CInputField(o.x+70,o.y+580,1.3*t.width-200,70,"required","18"),(R=new createjs.Text(FORM_EMAIL[CURRENT_LANGUAGE],"bold 30px "+PRIMARY_FONT,"#fff")).x=o.x+80,R.y=o.y+720,R.textAlign="left",R.textBaseline="alphabetic",R.lineWidth=200,s_oStage.addChild(R),S=new CInputField(o.x+70,o.y+740,1.3*t.width-200,70,"email","John.Doe@example.com"),(h=new createjs.Text(FORM_REGION[CURRENT_LANGUAGE],"bold 30px "+PRIMARY_FONT,"#fff")).x=o.x+80,h.y=o.y+880,h.textAlign="left",h.textBaseline="alphabetic",h.lineWidth=200,s_oStage.addChild(h);N=new CSelectField(o.x+70,o.y+900,1.3*t.width-130,120,["Europe","North America","South America"],"Europe"),x=new CCheckboxField(o.x+70,o.y+1050,1.3*t.width-130,80,!1,FORM_TERMS[CURRENT_LANGUAGE]),p=new CCheckboxField(o.x+70,o.y+1150,1.3*t.width-130,80,!1,FORM_CONSENT[CURRENT_LANGUAGE]),(e=new CGfxButton(CANVAS_WIDTH/2,o.y+1.3*t.height-150,s_oSpriteLibrary.getSprite("but_submit_"+LANGUAGES[CURRENT_LANGUAGE]),s_oStage)).changeScale(1.2),e.addEventListener(ON_MOUSE_UP,this._onSubmit,this),this.refreshButtonPos(s_iOffsetX,s_iOffsetY)},this._onLanguageChange=function(){0===CURRENT_LANGUAGE?CURRENT_LANGUAGE=1:CURRENT_LANGUAGE=0,console.log(LANGUAGES[CURRENT_LANGUAGE]),this._changeFormLanguage()},this._changeFormLanguage=function(){o.image=s_oSpriteLibrary.getSprite("form_panel_"+LANGUAGES[CURRENT_LANGUAGE]),r.text=FORM_NAME[CURRENT_LANGUAGE],s.text=FORM_MOBILE[CURRENT_LANGUAGE],E.text=FORM_AGE[CURRENT_LANGUAGE],R.text=FORM_EMAIL[CURRENT_LANGUAGE],h.text=FORM_REGION[CURRENT_LANGUAGE],x._changeText(FORM_TERMS[CURRENT_LANGUAGE]),p._changeText(FORM_CONSENT[CURRENT_LANGUAGE]),e._changeSprite(s_oSpriteLibrary.getSprite("but_submit_"+LANGUAGES[CURRENT_LANGUAGE]))},this._onSubmit=function(){var t=!0;if(l._validate()||(t=!1),A._validate()||(t=!1),S._validate()||(t=!1),x._validate()||(t=!1),p._validate()||(t=!1),t){const t={name:l._getValue(),mobile:A._getValue(),email:S._getValue(),region:N._getValue(),age:d._getValue(),score:g};console.log(t),fetch("http://45.142.215.48:8001/api/scores/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((t=>t.json())).then((t=>{s_oForm.unload(),s_oMain.gotoEnd()})).catch((t=>{console.error("Error:",t)}))}},this.unload=function(){e.unload(),_.unload(),S._unload(),A._unload(),l._unload(),N._unload(),d._unload(),x._unload(),p._unload(),r=null,E=null,s=null,R=null,h=null,a=null,i=null,n=null,s_oForm=null},this.refreshButtonPos=function(t,e){_.setPosition(_pStartPosLang.x-t,e+_pStartPosLang.y),i.x=_pStartPosSnickers.x+t,i.y=_pStartPosSnickers.y+e,n.x=_pStartPosExtra.x+t,n.y=_pStartPosExtra.y+e},s_oForm=this,this._init()}var s_oForm=null;